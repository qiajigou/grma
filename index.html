<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>gRMA by qiajigou</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">gRMA</h1>
      <h2 class="project-tagline">A simple gRPC gunicorn like tool, name is gRPC mayue &lt;--- what?!</h2>
      <a href="https://github.com/qiajigou/grma" class="btn">View on GitHub</a>
      <a href="https://github.com/qiajigou/grma/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/qiajigou/grma/tarball/master" class="btn">Download .tar.gz</a>
    </section>

    <section class="main-content">
      <h1>
<a id="overview" class="anchor" href="#overview" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Overview</h1>

<p>A simple gunicorn like gRPC management server.</p>

<p><a href="https://travis-ci.org/qiajigou/grma"><img src="https://travis-ci.org/qiajigou/grma.svg?branch=master" alt="Build Status"></a> <a href="https://gitter.im/qiajigou/grma?utm_source=badge&amp;utm_medium=badge&amp;utm_campaign=pr-badge"><img src="https://badges.gitter.im/qiajigou/grma.svg" alt="Gitter"></a></p>

<h1>
<a id="example" class="anchor" href="#example" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Example</h1>

<p>See examples folder.</p>

<pre><code>grma --cls=server:app --num=8 --port=60061
</code></pre>

<p>Then use python</p>

<div class="highlight highlight-source-python"><pre><span class="pl-k">from</span> client <span class="pl-k">import</span> get_client
c <span class="pl-k">=</span> get_client()
c.hello(<span class="pl-s"><span class="pl-pds">'</span>hello world<span class="pl-pds">'</span></span>)</pre></div>

<h1>
<a id="how-to-use" class="anchor" href="#how-to-use" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>How to use</h1>

<p>inherit <code>ServerBase</code> to create your own <code>JediServer</code> Class:</p>

<div class="highlight highlight-source-python"><pre><span class="pl-k">from</span> grma.server.base <span class="pl-k">import</span> ServerBase

<span class="pl-k">class</span> <span class="pl-en">JediServer</span>(<span class="pl-e">ServerBase</span>):
    <span class="pl-s"><span class="pl-pds">"""</span>Your gRPC server class<span class="pl-pds">"""</span></span>

    <span class="pl-k">def</span> <span class="pl-en">start</span>(<span class="pl-smi"><span class="pl-smi">self</span></span>):
        <span class="pl-k">pass</span>

    <span class="pl-k">def</span> <span class="pl-en">bind</span>(<span class="pl-smi"><span class="pl-smi">self</span></span>, <span class="pl-smi">host</span>, <span class="pl-smi">port</span>, <span class="pl-smi">private_key_path</span><span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">'</span><span class="pl-pds">'</span></span>, <span class="pl-smi">certificate_chain_path</span><span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">'</span><span class="pl-pds">'</span></span>):
        <span class="pl-k">pass</span>

    <span class="pl-k">def</span> <span class="pl-en">stop</span>(<span class="pl-smi"><span class="pl-smi">self</span></span>, <span class="pl-smi">grace</span><span class="pl-k">=</span><span class="pl-c1">3</span>):
        <span class="pl-k">pass</span>

app <span class="pl-k">=</span> JediServer()</pre></div>

<p>Launching should be simple:</p>

<pre><code>run grma --port=50051 --cls=app:app --num=8 --daemon=1
</code></pre>

<p>Get more from help</p>

<pre><code>usage: grma [-h] [--host HOST] [--port PORT] [--private PRIVATE]
            [--certificate CERTIFICATE] --cls CLS [--num NUM] [--pid PID]
            [--daemon DAEMON]

A simple gunicorn like gRPC server management tool

optional arguments:
  -h, --help            show this help message and exit
  --host HOST           an string for gRPC Server host
  --port PORT           an integer for gRPC Server port
  --private PRIVATE     a string of private key path
  --certificate CERTIFICATE
                        a string of private certificate key path
  --cls CLS             a string of gRPC server module [app:server]
  --num NUM             a int of worker number
  --pid PID             pid file for grma
  --daemon DAEMON       run as daemon
</code></pre>

<h1>
<a id="todo" class="anchor" href="#todo" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>TODO</h1>

<p>Lots to do...</p>

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/qiajigou/grma">gRMA</a> is maintained by <a href="https://github.com/qiajigou">qiajigou</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

  
  </body>
</html>
